= ドライブの追加と削除に関するベストプラクティス
:allow-uri-read: 


ドライブに障害がある場合、またはドライブの摩耗レベルがしきい値を下回った場合は、ドライブを交換する必要があります。 Element ソフトウェア UI のアラームは、ドライブに障害が発生したとき、または障害が発生する可能性があるときに通知します。故障したドライブをホットスワップできます。

.タスク概要
この手順は、H410S および H610S ストレージ ノード内のドライブを交換するためのものです。ドライブを取り外すと、ドライブはオフラインになります。ドライブ上のすべてのデータは削除され、クラスター内の他のドライブに移行されます。システム内の他のアクティブなドライブへのデータ移行には、容量使用率とクラスター上のアクティブな I/O に応じて数分から 1 時間かかる場合があります。ドライブを取り外したり交換したりする際は、次のベスト プラクティスに従ってドライブを取り扱う必要があります。

* ドライブは、インストールの準備ができるまで ESD バッグに入れて保管してください。
* ESD バッグを手で開けるか、はさみで上部を切り取ります。
* シャーシの塗装されていない表面に接地された ESD リスト ストラップを常に着用してください。
* ドライブの取り外し、取り付け、持ち運びの際は必ず両手を使用してください。
* ドライブをシャーシに無理やり押し込まないでください。
* ドライブを発送するときは、必ず承認された梱包材を使用してください。
* ドライブを積み重ねないでください。




== ドライブの追加と削除に関するベストプラクティス

* スライス ドライブを追加する前に、すべてのブロック ドライブを追加し、ブロックの同期が完了していることを確認します。
* Element ソフトウェア 10.x 以降の場合は、すべてのブロック ドライブを一度に追加します。一度に 3 つ以上のノードに対してこれを実行しないでください。
* Element ソフトウェア 9.x 以前では、3 つのドライブを一度に追加して、次の 3 つのグループを追加する前に完全に同期できるようにします。
* ブロック ドライブを取り外す前に、スライス ドライブを取り外し、スライスの同期が完了していることを確認します。
* 単一のノードからすべてのブロック ドライブを一度に削除します。次のノードに進む前に、すべてのブロックの同期が完了していることを確認してください。


.手順
. NetApp Elementソフトウェア UI を使用して、クラスターからドライブを削除します。
+
.. Element UI から、*クラスター > ドライブ*を選択します。
.. 障害が発生したドライブのリストを表示するには、「*障害*」を選択します。
.. 故障したドライブのスロット番号をメモします。シャーシ内の故障したドライブを見つけるには、この情報が必要です。
.. 削除するドライブの*アクション*を選択します。
.. *削除*を選択します。
+

NOTE: ノードを削除する前にアクティブ ドライブを削除するのに十分な容量がない場合は、ドライブの削除を確認するときにエラー メッセージが表示されます。エラーを解決したら、ドライブをシャーシから物理的に取り外すことができます。



. シャーシからドライブを交換します。
+
.. 交換用ドライブを開梱し、ラックの近くの平らで静電気のない面に置きます。障害ドライブをNetAppに返却するときのために、梱包材は保管しておいてください。以下は、ドライブを搭載した H610S および H410S ストレージ ノードの正面図です。
+
image::h610s_h410s.png[H610S および H410S ストレージ ノードの前面図を示します。]

.. (*H410S のみ*) 次の手順を実行します。
+
... シリアル番号 (サービス タグ) を Element UI から書き留めた番号と照合してノードを識別します。シリアル番号は各ノードの背面のステッカーに記載されています。ノードを識別したら、スロット情報を使用して、障害が発生したドライブがあるスロットを識別できます。ドライブは、A から D および 0 から 5 のアルファベット順に並べられています。
... ベゼルを取り外します。
... 故障したドライブのリリースボタンを押します。
+
image::h410s_drive.png[H410S ストレージ ノードのドライブ上のリリース ボタンを表示します。]

+
リリース ボタンを押すと、ドライブのカム ハンドルが部分的に開き、ドライブがミッドプレーンから外れます。

... カムハンドルを開き、両手を使ってドライブを慎重にスライドさせて取り出します。
... ドライブを静電気防止の平らな面に置きます。
... 交換用ドライブを両手でシャーシのスロットに奥まで挿入します。
... カチッと音がするまでカムハンドルを押し下げます。
... ベゼルを再度取り付けます。
... ドライブを交換したことをNetAppサポートに報告します。NetAppサポートから障害ドライブの返却手順をお知らせします。


.. (*H610S のみ*) 次の手順を実行します。
+
... Element UI からの障害が発生したドライブのスロット番号をシャーシ上の番号と一致させます。故障したドライブの LED がオレンジ色に点灯します。
... ベゼルを取り外します。
... リリース ボタンを押して、次の図に示すように、故障したドライブを取り外します。
+
image::h610s_driveremove.png[H610S ノードから取り外されるドライブを表示します。]

+

NOTE: ドライブをシャーシから引き出す前に、トレイ ハンドルが完全に開いていることを確認してください。

... ドライブをスライドさせて取り出し、静電気のない水平な面に置きます。
... 交換用ドライブをドライブ ベイに挿入する前に、交換用ドライブのリリース ボタンを押します。ドライブトレイのハンドルが開きます。
+
image::H600S_driveinstall.png[H610S ノードにインストールされているドライブを表示します。]

... 過度の力を加えずに交換用ドライブを挿入します。ドライブが完全に挿入されると、カチッという音が聞こえます。
... ドライブトレイのハンドルを慎重に閉じます。
... ベゼルを再度取り付けます。
... ドライブを交換したことをNetAppサポートに報告します。NetAppサポートから障害ドライブの返却手順をお知らせします。




. Element UI を使用してドライブをクラスターに再度追加します。
+

NOTE: 既存のノードに新しいドライブをインストールすると、そのドライブは Element UI で自動的に「使用可能」として登録されます。ドライブをクラスターに参加させる前に、ドライブをクラスターに追加する必要があります。

+
.. Element UI から、*クラスター > ドライブ*を選択します。
.. 利用可能なドライブのリストを表示するには、「*利用可能*」を選択します。
.. 追加するドライブのアクション アイコンを選択し、[*追加*] を選択します。






== 詳細情報の参照

* https://docs.netapp.com/us-en/element-software/index.html["SolidFireおよびElementソフトウェアのドキュメント"]
* https://docs.netapp.com/sfe-122/topic/com.netapp.ndc.sfe-vers/GUID-B1944B0E-B335-4E0B-B9F1-E960BF32AE56.html["NetApp SolidFireおよび Element 製品の以前のバージョンのドキュメント"^]

