---
permalink: hardware/task_rtfi_process.html 
sidebar: sidebar 
keywords: rtfi, return, factory, image, process, solidfire, node 
summary: RTFI プロセスを実行して、 SolidFireノード上の Element ソフトウェアを復元します。 
---
= RTFIプロセス
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
システムの起動前に表示されるテキスト コンソール プロンプトを通じてノードと対話することにより、工場出荷時イメージへの復帰 (RTFI) プロセスを開始できます。


WARNING: RTFI プロセスはデータを破壊し、ノードからすべてのデータと構成の詳細を安全に消去し、新しいオペレーティング システムをインストールします。  RTFI プロセスに使用されるノードがクラスターの一部としてアクティブになっていないことを確認します。

image::../media/rtfi_warning.PNG[続行する前にSolidFireの警告]

RTFI プロセスは、次の高レベルの操作を実行します。

. ユーザーの確認後にインストールを開始し、イメージを検証します。
. ノード上のすべてのドライブのロックを解除します。
. ファームウェアを検証してフラッシュします。
. ハードウェアをチェックします。
. ハードウェアをテストします。
. 選択したすべてのドライブを安全に消去します。
. ルート ドライブをパーティション分割し、ファイル システムを作成します。
. イメージをマウントして解凍します。
. ホスト名、ネットワーク (ダイナミック ホスト構成プロトコル)、デフォルトのクラスター構成、および GRUB ブートローダーを構成します。
. すべてのサービスを停止し、ログを収集して再起動します。


RTFIプロセスが正常に完了した後にノードを構成するには、 https://docs.netapp.com/us-en/element-software/index.html["Elementソフトウェアバージョンのドキュメント"^] 。ノードが RTFI プロセスを正常に完了すると、デフォルトで _available_ (未構成) 状態に移行します。



== RTFIプロセスを実行する

SolidFireノード上の Element ソフトウェアを復元するには、次の手順に従います。

USBキーの作成やBMCを使用したRTFIプロセスの実行については、xref:task_rtfi_deployment_and_install_options.adoc[RTFIの展開とインストールのオプション] 。

.開始する前に
次の要件を満たしていることを確認してください。

* SolidFireノードのコンソールにアクセスできます。
* RTFI プロセスを実行しているノードは電源が投入され、ネットワークに接続されています。
* RTFI プロセスを実行しているノードは、アクティブなクラスターの一部ではありません。
* 構成に関連する Element ソフトウェア バージョンのイメージを含む起動可能なインストール メディアにアクセスできます。


RTFI プロセスを実行する前に懸念事項がある場合は、 NetAppサポートにお問い合わせください。

.手順
. ノードの背面にモニターとキーボードを接続するか、 BMC IP UI に接続して、UI の *リモート コントロール* タブから *iKVM/HTML5* コンソールを起動します。
. ノードの背面にある 2 つの USB スロットのいずれかに、適切なイメージが保存された USB キーを挿入します。
. ノードの電源をオンにするか、電源をリセットします。起動中に、*F11* を選択してブート デバイスを選択します。
+

NOTE: ブート デバイス画面がすぐに表示されるため、*F11* キーを連続して複数回選択する必要があります。

. ブート デバイス選択メニューで、USB オプションを強調表示します。
+
表示されるオプションは、使用している USB ブランドによって異なります。

+
[NOTE]
====
USB デバイスがリストされていない場合は、BIOS に入り、USB がブート順序にリストされていることを確認し、再起動して再試行してください。

それでも問題が解決しない場合は、BIOS に入り、[保存して終了] タブに移動して、[最適化されたデフォルトに戻す] を選択し、設定を受け入れて保存し、再起動します。

====
. ハイライトされた USB デバイスにある画像のリストが表示されます。希望するバージョンを選択し、Enter キーを押して RTFI プロセスを開始します。
+
RTFI イメージ エレメントのソフトウェア名とバージョン番号が表示されます。

. 最初のプロンプトでは、プロセスによってノードからすべてのデータが削除され、プロセスの開始後はデータを回復できないことが通知されます。開始するには「はい」と入力してください。
+

WARNING: プロセスが開始されると、すべてのデータと構成の詳細はノードから完全に消去されます。続行しない場合は、xref:task_rtfi_options_menu.html[RTFIオプションメニュー] 。

+

NOTE: RTFI プロセス中にコンソールを監視する場合は、*ALT+F8* キーを押して詳細モードのコンソールに切り替えることができます。  *ALT+F7* を押すと、プライマリ GUI に戻ります。

. ハードウェア障害が疑われる理由がある場合、またはNetAppサポートからテストを実行するように指示された場合を除き、広範なハードウェア テストを実行するように要求されたら「*いいえ*」と入力します。
+
RTFI プロセスが終了し、システムの電源がオフになったことを示すメッセージが表示されます。

. 必要に応じて、ノードの電源を切った後、起動可能なインストール メディアをすべて取り外します。
+
これで、ノードの電源をオンにして構成する準備が整いました。参照 https://docs.netapp.com/us-en/element-software/setup/concept_setup_overview.html["Elementソフトウェアのセットアップとストレージに関するドキュメント"^]ストレージノードを構成します。

+
RTFIプロセス中にエラーメッセージが表示された場合は、xref:task_rtfi_options_menu.html[RTFIオプションメニュー] 。





== 詳細情報の参照

* https://docs.netapp.com/us-en/element-software/index.html["SolidFireおよびElementソフトウェアのドキュメント"]
* https://docs.netapp.com/sfe-122/topic/com.netapp.ndc.sfe-vers/GUID-B1944B0E-B335-4E0B-B9F1-E960BF32AE56.html["NetApp SolidFireおよび Element 製品の以前のバージョンのドキュメント"^]

